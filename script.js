const translations = {
    en: {
        'loader.text': 'Loading...',
        'logo.main': 'CyberBez',
        'logo.tagline': 'Your Cybersecurity Guide',
        'nav.home': 'Home',
        'nav.history': 'My Story',
        'nav.about': 'About',
        'nav.contact': 'Contact',
        'hero.title': 'Top 3 Cybersecurity Topics You Must Know',
        'hero.subtitle': 'Discover essential cybersecurity knowledge - from password security to phishing protection and data encryption',
        'intro.p1': 'Ever wondered what the most critical cybersecurity topics are that every professional should master? After years of studying cyber threats and implementing security measures, I\'ve compiled a ranking of three cybersecurity topics that, in my opinion, represent the best foundation for digital safety.',
        'intro.p2': 'This isn\'t just about technical knowledge - it\'s also about understanding how you can protect yourself, how to recognize threats, and what practical benefits you\'ll gain from implementing these security measures.',
        'intro.p3': 'Each topic has been carefully selected based on real-world relevance, impact on personal and organizational security, and the frequency of related cyber attacks in today\'s digital landscape.',
        'item1.title': 'Password Security & Management',
        'item1.description': 'Learn how to create strong passwords, use password managers effectively, and implement multi-factor authentication to protect your digital accounts from unauthorized access.',
        'item1.meta1': 'Essential',
        'item1.meta2': 'Beginner-Friendly',
        'item1.meta3': '5 min read',
        'item2.title': 'Phishing Protection & Email Security',
        'item2.description': 'Master the art of identifying phishing attempts, securing your email communications, and protecting yourself from social engineering attacks that target individuals and organizations.',
        'item2.meta1': 'Critical',
        'item2.meta2': 'Intermediate',
        'item2.meta3': '7 min read',
        'item3.title': 'Data Encryption & Privacy',
        'item3.description': 'Understand encryption technologies, learn how to encrypt your sensitive data, and discover best practices for maintaining privacy in an increasingly connected world.',
        'item3.meta1': 'Advanced',
        'item3.meta2': 'Expert Level',
        'item3.meta3': '10 min read',
        'item.readmore': 'Read More →',
        'why.title': 'Why Cybersecurity Matters',
        'why.feature1.title': 'Protect Your Digital Identity',
        'why.feature1.text': 'In an era where our personal and professional lives are increasingly digital, understanding cybersecurity is essential for protecting your identity, financial information, and sensitive data from cybercriminals.',
        'why.feature2.title': 'Prevent Financial Loss',
        'why.feature2.text': 'Cyber attacks can result in significant financial losses through identity theft, ransomware, and fraud. Proper security measures can prevent these devastating consequences and save you thousands of dollars.',
        'why.feature3.title': 'Stay Ahead of Threats',
        'why.feature3.text': 'The cyber threat landscape evolves constantly. By staying informed about the latest security practices and threats, you can adapt your defenses and remain protected against emerging attack vectors.',
        'breadcrumb.home': 'Home',
        'breadcrumb.password': 'Password Security',
        'breadcrumb.phishing': 'Phishing Protection',
        'breadcrumb.encryption': 'Data Encryption',
        'breadcrumb.about': 'About',
        'breadcrumb.contact': 'Contact',
        'breadcrumb.history': 'My Story',
        'footer.about.title': 'About the Blog',
        'footer.about.text': 'CyberBez is your trusted source for cybersecurity knowledge, offering expert insights, practical guides, and the latest information on digital security threats and protection strategies.',
        'footer.stats.topics': '50+ Topics',
        'footer.stats.readers': '1000+ Readers',
        'footer.stats.updates': 'Updated Weekly',
        'footer.tools.title': 'Useful Tools',
        'footer.tools.pwned': 'Have I Been Pwned',
        'footer.tools.pwned.desc': 'Check if your email has been compromised',
        'footer.tools.password': 'Password Generator',
        'footer.tools.password.desc': 'Create strong, secure passwords',
        'footer.tools.virustotal': 'VirusTotal',
        'footer.tools.virustotal.desc': 'Analyze suspicious files and URLs',
        'footer.popular.title': 'Popular Topics',
        'footer.popular.item1': 'Password Security',
        'footer.popular.item2': 'Phishing Protection',
        'footer.popular.item3': 'Data Encryption',
        'footer.popular.all': 'All Topics →',
        'footer.contact.title': 'Contact & Info',
        'footer.contact.about': 'About Us',
        'footer.contact.contact': 'Contact',
        'footer.copyright': '© 2024 CyberBez Blog. All rights reserved.',
        'footer.disclaimer': 'Information provided is for educational purposes. Security practices may vary based on individual needs and circumstances.',
        'cookie.title': 'Cookie Consent',
        'cookie.description': 'We use cookies and similar technologies to enhance your browsing experience, analyze site traffic, personalize content, and improve our services. Some cookies are necessary for the website to function properly, while others help us understand how visitors interact with our site.',
        'cookie.necessary': 'Necessary Cookies',
        'cookie.necessary.desc': 'Required for basic site functionality',
        'cookie.analytical': 'Analytical Cookies',
        'cookie.analytical.desc': 'Help us understand site usage',
        'cookie.settings': 'Preference Cookies',
        'cookie.settings.desc': 'Remember your preferences',
        'cookie.accept': 'Accept All',
        'cookie.reject': 'Reject Optional',
        'cookie.policy': 'Learn more in our Privacy Policy',
        'password.title': 'Password Security & Management - Complete Guide',
        'phishing.title': 'Phishing Protection & Email Security - Complete Guide',
        'encryption.title': 'Data Encryption & Privacy - Complete Guide',
        'about.title': 'About CyberBez Blog',
        'contact.title': 'Contact Us',
        'history.title': 'My Story'
    },
    pl: {
        'loader.text': 'Ładowanie...',
        'logo.main': 'CyberBez',
        'logo.tagline': 'Twój Przewodnik Cyberbezpieczeństwa',
        'nav.home': 'Strona Główna',
        'nav.history': 'Moja Historia',
        'nav.about': 'O Nas',
        'nav.contact': 'Kontakt',
        'hero.title': 'Top 3 Tematy Cyberbezpieczeństwa, Które Musisz Znać',
        'hero.subtitle': 'Odkryj niezbędną wiedzę o cyberbezpieczeństwie - od bezpieczeństwa haseł po ochronę przed phishingiem i szyfrowanie danych',
        'intro.p1': 'Zastanawiałeś się kiedyś, jakie są najważniejsze tematy cyberbezpieczeństwa, które każdy profesjonalista powinien opanować? Po latach studiowania zagrożeń cybernetycznych i wdrażania środków bezpieczeństwa, przygotowałem ranking trzech tematów cyberbezpieczeństwa, które moim zdaniem stanowią najlepszą podstawę bezpieczeństwa cyfrowego.',
        'intro.p2': 'Nie chodzi tylko o wiedzę techniczną - chodzi również o zrozumienie, jak możesz się chronić, jak rozpoznawać zagrożenia i jakie praktyczne korzyści uzyskasz z wdrożenia tych środków bezpieczeństwa.',
        'intro.p3': 'Każdy temat został starannie wybrany na podstawie rzeczywistego znaczenia, wpływu na bezpieczeństwo osobiste i organizacyjne oraz częstotliwości powiązanych ataków cybernetycznych w dzisiejszym krajobrazie cyfrowym.',
        'item1.title': 'Bezpieczeństwo i Zarządzanie Hasłami',
        'item1.description': 'Dowiedz się, jak tworzyć silne hasła, efektywnie korzystać z menedżerów haseł i wdrażać uwierzytelnianie wieloskładnikowe, aby chronić swoje konta cyfrowe przed nieautoryzowanym dostępem.',
        'item1.meta1': 'Niezbędne',
        'item1.meta2': 'Dla Początkujących',
        'item1.meta3': '5 min czytania',
        'item2.title': 'Ochrona przed Phishingiem i Bezpieczeństwo E-mail',
        'item2.description': 'Opanuj sztukę identyfikacji prób phishingu, zabezpieczania komunikacji e-mail i ochrony przed atakami inżynierii społecznej skierowanymi na osoby i organizacje.',
        'item2.meta1': 'Krytyczne',
        'item2.meta2': 'Średnio Zaawansowane',
        'item2.meta3': '7 min czytania',
        'item3.title': 'Szyfrowanie Danych i Prywatność',
        'item3.description': 'Zrozum technologie szyfrowania, naucz się szyfrować swoje wrażliwe dane i odkryj najlepsze praktyki utrzymania prywatności w coraz bardziej połączonym świecie.',
        'item3.meta1': 'Zaawansowane',
        'item3.meta2': 'Poziom Ekspercki',
        'item3.meta3': '10 min czytania',
        'item.readmore': 'Czytaj Więcej →',
        'why.title': 'Dlaczego Cyberbezpieczeństwo Ma Znaczenie',
        'why.feature1.title': 'Chroń Swoją Tożsamość Cyfrową',
        'why.feature1.text': 'W erze, w której nasze życie osobiste i zawodowe jest coraz bardziej cyfrowe, zrozumienie cyberbezpieczeństwa jest niezbędne do ochrony tożsamości, informacji finansowych i wrażliwych danych przed cyberprzestępcami.',
        'why.feature2.title': 'Zapobiegaj Stratom Finansowym',
        'why.feature2.text': 'Ataki cybernetyczne mogą prowadzić do znacznych strat finansowych poprzez kradzież tożsamości, ransomware i oszustwa. Właściwe środki bezpieczeństwa mogą zapobiec tym dewastującym konsekwencjom i zaoszczędzić tysiące dolarów.',
        'why.feature3.title': 'Bądź Krok Przed Zagrożeniami',
        'why.feature3.text': 'Krajobraz zagrożeń cybernetycznych stale się rozwija. Będąc na bieżąco z najnowszymi praktykami bezpieczeństwa i zagrożeniami, możesz dostosować swoje obrony i pozostać chronionym przed pojawiającymi się wektorami ataków.',
        'breadcrumb.home': 'Strona Główna',
        'breadcrumb.password': 'Bezpieczeństwo Haseł',
        'breadcrumb.phishing': 'Ochrona przed Phishingiem',
        'breadcrumb.encryption': 'Szyfrowanie Danych',
        'breadcrumb.about': 'O Nas',
        'breadcrumb.contact': 'Kontakt',
        'breadcrumb.history': 'Moja Historia',
        'footer.about.title': 'O Blogu',
        'footer.about.text': 'CyberBez to Twoje zaufane źródło wiedzy o cyberbezpieczeństwie, oferujące eksperckie spostrzeżenia, praktyczne przewodniki i najnowsze informacje o zagrożeniach bezpieczeństwa cyfrowego i strategiach ochrony.',
        'footer.stats.topics': '50+ Tematów',
        'footer.stats.readers': '1000+ Czytelników',
        'footer.stats.updates': 'Aktualizowane Co Tydzień',
        'footer.tools.title': 'Przydatne Narzędzia',
        'footer.tools.pwned': 'Have I Been Pwned',
        'footer.tools.pwned.desc': 'Sprawdź, czy Twój e-mail został naruszony',
        'footer.tools.password': 'Generator Haseł',
        'footer.tools.password.desc': 'Twórz silne, bezpieczne hasła',
        'footer.tools.virustotal': 'VirusTotal',
        'footer.tools.virustotal.desc': 'Analizuj podejrzane pliki i adresy URL',
        'footer.popular.title': 'Popularne Tematy',
        'footer.popular.item1': 'Bezpieczeństwo Haseł',
        'footer.popular.item2': 'Ochrona przed Phishingiem',
        'footer.popular.item3': 'Szyfrowanie Danych',
        'footer.popular.all': 'Wszystkie Tematy →',
        'footer.contact.title': 'Kontakt i Informacje',
        'footer.contact.about': 'O Nas',
        'footer.contact.contact': 'Kontakt',
        'footer.copyright': '© 2024 CyberBez Blog. Wszelkie prawa zastrzeżone.',
        'footer.disclaimer': 'Informacje podane są w celach edukacyjnych. Praktyki bezpieczeństwa mogą się różnić w zależności od indywidualnych potrzeb i okoliczności.',
        'cookie.title': 'Używamy Plików Cookie',
        'cookie.description': 'Używamy plików cookie, aby poprawić Twoje doświadczenie przeglądania, analizować ruch w witrynie i personalizować treści. Kontynuując korzystanie z naszej witryny, wyrażasz zgodę na używanie plików cookie.',
        'cookie.necessary': 'Niezbędne',
        'cookie.analytical': 'Analityczne',
        'cookie.settings': 'Ustawienia',
        'cookie.accept': 'Zaakceptuj Wszystko',
        'cookie.reject': 'Odrzuć Opcjonalne',
        'cookie.policy': 'Polityka Prywatności',
        'password.title': 'Bezpieczeństwo i Zarządzanie Hasłami - Kompletny Przewodnik',
        'phishing.title': 'Ochrona przed Phishingiem i Bezpieczeństwo E-mail - Kompletny Przewodnik',
        'encryption.title': 'Szyfrowanie Danych i Prywatność - Kompletny Przewodnik',
        'about.title': 'O Blogu CyberBez',
        'contact.title': 'Kontakt',
        'history.title': 'Moja Historia'
    }
};

function switchLanguage(lang) {
    document.documentElement.lang = lang;
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.getElementById(`lang-${lang}`).classList.add('active');
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    localStorage.setItem('preferredLanguage', lang);
}

function loadLanguage() {
    const savedLang = localStorage.getItem('preferredLanguage') || 'en';
    switchLanguage(savedLang);
}

function initPageLoader() {
    const loader = document.getElementById('page-loader');
    if (!loader) return;
    window.addEventListener('load', () => {
        setTimeout(() => {
            loader.classList.add('hidden');
        }, 500);
    });
    document.querySelectorAll('a[href^="./"], a[href^="/"], a[href^=""]').forEach(link => {
        const href = link.getAttribute('href');
        if (href && !href.startsWith('http') && !href.startsWith('#') && !href.startsWith('mailto:')) {
            link.addEventListener('click', (e) => {
                if (href === window.location.pathname.split('/').pop() || 
                    (href === 'index.html' && window.location.pathname.endsWith('/'))) {
                    return;
                }
                e.preventDefault();
                loader.classList.remove('hidden');
                setTimeout(() => {
                    window.location.href = href;
                }, 1500);
            });
        }
    });
}

function initCookieBanner() {
    const banner = document.getElementById('cookie-banner');
    if (!banner) return;
    const isIndexPage = window.location.pathname.includes('index.html') || 
                        window.location.pathname === '/' || 
                        window.location.pathname.endsWith('/');
    if (!isIndexPage) {
        banner.style.display = 'none';
        return;
    }
    const cookieChoice = localStorage.getItem('cookieConsent');
    if (!cookieChoice) {
        setTimeout(() => {
            banner.style.display = 'block';
            banner.classList.add('show');
        }, 1500);
    } else {
        banner.style.display = 'none';
    }
}

function acceptCookies() {
    localStorage.setItem('cookieConsent', 'accepted');
    localStorage.setItem('cookieNecessary', 'true');
    localStorage.setItem('cookieAnalytical', 'true');
    localStorage.setItem('cookieSettings', 'true');
    localStorage.setItem('cookieConsentDate', new Date().toISOString());
    hideCookieBanner();
}

function rejectCookies() {
    localStorage.setItem('cookieConsent', 'rejected');
    localStorage.setItem('cookieNecessary', 'true');
    localStorage.setItem('cookieAnalytical', 'false');
    localStorage.setItem('cookieSettings', 'false');
    localStorage.setItem('cookieConsentDate', new Date().toISOString());
    hideCookieBanner();
}

function showCookieSettings() {
    const message = 'Cookie Settings:\n\n' +
                   '• Necessary Cookies: Always enabled (required for site functionality)\n' +
                   '• Analytical Cookies: Currently ' + (localStorage.getItem('cookieAnalytical') === 'true' ? 'enabled' : 'disabled') + '\n' +
                   '• Preference Cookies: Currently ' + (localStorage.getItem('cookieSettings') === 'true' ? 'enabled' : 'disabled') + '\n\n' +
                   'You can manage your cookie preferences by clearing your browser cookies and refreshing the page.';
    alert(message);
}

function hideCookieBanner() {
    const banner = document.getElementById('cookie-banner');
    if (banner) {
        banner.classList.remove('show');
        banner.classList.add('hide');
        setTimeout(() => {
            banner.style.display = 'none';
        }, 500);
    }
}

function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate');
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);
    document.querySelectorAll('[data-animate]').forEach(element => {
        observer.observe(element);
    });
}

function initNavbarScroll() {
    const navbar = document.querySelector('.navbar');
    if (!navbar) return;
    
    let lastScroll = 0;
    
    window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;
        
        if (currentScroll > 50) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
        
        lastScroll = currentScroll;
    });
}

function setActiveNavLink() {
    const currentPath = window.location.pathname.split('/').pop() || 'index.html';
    const navLinks = document.querySelectorAll('.nav-menu a');
    
    navLinks.forEach(link => {
        const linkPath = link.getAttribute('href');
        if (linkPath === currentPath || 
            (currentPath === '' && linkPath === 'index.html') ||
            (currentPath === 'index.html' && linkPath === 'index.html')) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });
}

document.addEventListener('DOMContentLoaded', () => {
    loadLanguage();
    initPageLoader();
    initCookieBanner();
    initScrollAnimations();
    initNavbarScroll();
    setActiveNavLink();
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href !== '#') {
                e.preventDefault();
                const target = document.querySelector(href);
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });
    });
});

window.switchLanguage = switchLanguage;
window.acceptCookies = acceptCookies;
window.rejectCookies = rejectCookies;
window.showCookieSettings = showCookieSettings;

